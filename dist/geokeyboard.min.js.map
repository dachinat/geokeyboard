{"version":3,"sources":["webpack:///webpack/bootstrap e058161f8018be6862c1","webpack:///./src/main.js","webpack:///./src/geokeyboard.js","webpack:///./src/geokeyboard.select.js","webpack:///./src/geokeyboard.checkbox.js","webpack:///./src/geokeyboard.localstorage.js","webpack:///./src/insert-at-caret.js"],"names":[],"mappings":"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","file":"geokeyboard.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e058161f8018be6862c1","const Geokeyboard = require('./geokeyboard');\nconst Select = require('./geokeyboard.select.js');\nconst Checkbox = require('./geokeyboard.checkbox.js');\nconst LocalStorage = require('./geokeyboard.localstorage.js');\nconst insertAtCaret = require('./insert-at-caret');\n\nGeokeyboard.extensions = { Select, Checkbox, LocalStorage, insertAtCaret };\n\nwindow.Geokeyboard = Geokeyboard;\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","class Geokeyboard {\n    constructor(selectors, params={}, opts={}) {\n        this.selectors = [];\n        this.extensions = new Set;\n\n        this.lastFocus = null;\n\n        this.params = Object.assign({\n            hotSwitchKey: 96,\n            change: null, // (fn) Changes other selectors and executes a callback\n            globals: []\n        }, params);\n\n        this.listen(selectors, opts);\n\n        this._loadGlobalExtensions();\n    }\n\n    [Symbol.call](selectors, params={}, opts={}) {\n        return new this.constructor(selectors, params, opts);\n    }\n\n    listen(selectors, opts={}, callback=null) {\n        if (!selectors) {\n            return this;\n        }\n\n        this.constructor._warnBadSelector(selectors);\n\n        selectors = Array.from(document.querySelectorAll(selectors));\n\n        selectors.forEach(selector => {\n            selector = this.constructor.getContext(selector);\n\n            if (!selector[this.constructor.opts]) {\n                selector[this.constructor.opts] = {\n                    replaceOnType: true,\n                    replaceOnPaste: false,\n                    hotSwitch: true,\n                    change: null, // on change callback\n                    checkFocus: true,\n                    listeners: [],\n                };\n            }\n            selector[this.constructor.opts] = Object.assign(selector[this.constructor.opts], opts);\n\n            this.toggleListener(selector, 'replaceOnType', 'keypress', e => {\n                this.constructor._replaceTyped.call(this, e);\n            });\n\n            this.toggleListener(selector, 'replaceOnPaste', 'paste', e => {\n                this.constructor._replacePasted.call(this, e);\n            });\n\n            this.toggleListener(selector, 'hotSwitch', 'keypress', e => {\n                this.constructor._hotSwitch.call(this, e);\n            });\n\n            this.toggleListener(selector, 'checkFocus', 'focus', e => {\n                this.constructor._checkFocus.call(this, e);\n            }, true);\n        });\n\n        this.selectors = Array.from(new Set(this.selectors.concat(selectors)));\n\n        if (callback) {\n            callback.call(this, selectors);\n        }\n\n        this._loadGlobalExtensions();\n\n        return this;\n    }\n\n    attach(ext, selectors, opts={}) {\n        const instance = Reflect.construct(ext, [this, selectors, opts]);\n        this.extensions.add(instance);\n        this._attachListeners(instance);\n\n        return this;\n    }\n\n    _attachListeners(instance) {\n        const listeners = instance.listeners();\n        if (!listeners) {\n            return;\n        }\n\n        listeners.forEach(element => {\n            let selector = element[0];\n            let extOpts = element[1].reduce((acc, c) => Object.assign(acc, {[c[0]]: true}), {listeners: []});\n\n            if (!selector[this.constructor.opts]) {\n                selector[this.constructor.opts] = extOpts;\n            } else {\n                selector[this.constructor.opts] = Object.assign(extOpts, selector[this.constructor.opts]);\n            }\n            selector[this.constructor.opts] = Object.assign(selector[this.constructor.opts], instance.opts);\n\n            element[1].forEach(details => {\n                this.toggleListener(selector, details[0], details[1], details[2]);\n            });\n\n            this.selectors = Array.from(new Set(this.selectors.concat([selector])));\n        });\n    }\n\n    toggleListener(selector, listener, type, fn, useCapture=false) {\n        const index = this.hasListener(selector, listener);\n\n        if (selector[this.constructor.opts][listener.split('-')[0]]) {\n            if (index === false) {\n                this.addListener(selector, listener, type, fn, useCapture)\n            }\n        } else {\n            if (index !== false) {\n                this.removeListener(selector, listener, type, useCapture);\n            }\n        }\n    }\n\n    addListener(selector, listener, type, fn) {\n        const hasListener = this.hasListener(selector, listener);\n        if (hasListener === false) {\n            selector[this.constructor.opts].listeners.push({[listener]: fn});\n        }\n        selector.addEventListener(type, this.getListener(selector, listener));\n    }\n\n    removeListener(selector, listener, type) {\n        selector.removeEventListener(type, this.getListener(selector, listener));\n        selector[this.constructor.opts].listeners.splice(this.hasListener(selector, listener), 1);\n    }\n\n    hasListener(selector, listener) {\n        const index = selector[this.constructor.opts].listeners.findIndex(f => typeof f[listener] === 'function');\n        return index === -1 ? false : index;\n    }\n\n\n    getListener(selector, listener) {\n        const l = selector[this.constructor.opts].listeners.find(f => f[listener]);\n        return l ? l[listener] : undefined;\n    }\n\n    _enable(selector, skip_ext=false) {\n        selector = this.constructor.getContext(selector);\n        selector[this.constructor.opts].replaceOnType = true;\n\n        if (selector.hasAttribute && selector.hasAttribute('type') && selector.getAttribute('type') !== 'text') {\n            return;\n        }\n\n        if (selector[this.constructor.opts]['change'] && this.hasListener(selector, 'replaceOnType') === false) {\n            selector[this.constructor.opts]['change'].call(this, true);\n        }\n\n        this.addListener(selector, 'replaceOnType', 'keypress', e => {\n            this.constructor._replaceTyped.call(this, e);\n        });\n\n        if (!skip_ext) {\n            for (let ext of this.extensions) {\n                if (typeof ext.enabled === 'function') {\n                    ext.enabled.call(ext, selector);\n                }\n            }\n        }\n    }\n\n    _disable(selector, skip_ext=false) {\n        selector = this.constructor.getContext(selector);\n        selector[this.constructor.opts].replaceOnType = false;\n\n        const listener = this.getListener(selector, 'replaceOnType');\n        if (!listener) {\n            return;\n        }\n\n        if (selector[this.constructor.opts]['change'] && this.hasListener(selector, 'replaceOnType') !== false) {\n            selector[this.constructor.opts]['change'].call(this, false);\n        }\n\n        this.removeListener(selector, 'replaceOnType', 'keypress', listener);\n\n        if (!skip_ext) {\n            for (let ext of this.extensions) {\n                if (typeof ext.disabled === 'function') {\n                    ext.disabled.call(ext, selector);\n                }\n            }\n        }\n    }\n\n    static _replaceTyped(e) {\n        if (!new RegExp(this.constructor.characterSet.join('|')).test(e.key) || e.key.length > 1) {\n            return;\n        }\n        e.preventDefault();\n\n        this.constructor.extensions.insertAtCaret(e.currentTarget, String.fromCharCode(\n            this.constructor.characterSet.indexOf(e.key) + 4304)\n        );\n    }\n\n    static _replacePasted(e) {\n        let content = e.clipboardData ? e.clipboardData.getData('text/plain') : window.clipboardData ?\n            window.clipboardData.getData('Text') : null;\n\n        this.constructor.extensions.insertAtCaret(e.currentTarget, content.split('')\n            .map(c => {\n                let index = this.constructor.characterSet.indexOf(c);\n                return index !== -1 ? String.fromCharCode(index + 4304) : c;\n            })\n            .join(''));\n\n        e.preventDefault();\n    }\n\n    static _checkFocus(e) {\n        this.lastFocus = e.currentTarget;\n    }\n\n    _focus(among) {\n        if (this.lastFocus && among.includes(this.lastFocus.frameElement || this.lastFocus)) {\n            this.lastFocus.focus();\n        } else {\n            this.constructor.getContext(among[0]).focus();\n        }\n    }\n\n    static _hotSwitch(e) {\n        if (e.keyCode === this.params.hotSwitchKey || e.which === this.params.hotSwitchKey) {\n            this.constructor._toggle.call(this, e.currentTarget);\n            e.preventDefault();\n        }\n    }\n\n    static _toggle(selector) {\n        const index = this.hasListener(selector, 'replaceOnType');\n\n        if (index !== false) {\n            if (typeof this.params.change === 'function') {\n                this.selectors.forEach(s => this._disable(s, s === selector));\n                this.params.change.call(this, false);\n            } else {\n                this._disable(selector);\n            }\n        } else {\n            if (typeof this.params.change === 'function') {\n                this.selectors.forEach(s => this._enable(s, s === selector));\n                this.params.change.call(this, true);\n            } else {\n                this._enable(selector);\n            }\n        }\n    }\n\n    _loadGlobalExtensions() {\n        this.params.globals.forEach(ext => {\n            let instance = Reflect.construct(ext[0], [this, null, ext[1]]);\n            this.extensions.add(instance);\n        });\n    }\n\n    static _warnBadSelector(selectors) {\n        selectors.split(', ').forEach(selector => {\n            if (!document.querySelector(selector)) {\n                console\n                    .warn(`${this.constructor.name}: An element with identifier '${selector}' not found. (Skipping...)`);\n                return true;\n            }\n        });\n    }\n\n    static get characterSet() {\n        return 'abgdevzTiklmnopJrstufqRySCcZwWxjh'.split('');\n    }\n\n    static getContext(selector) {\n        return (selector.tagName === 'IFRAME') ?\n            (selector.contentWindow || selector.contentDocument).window : selector;\n    }\n\n    static get opts() {\n        return 'geokeyboard';\n    }\n}\n\nmodule.exports = Geokeyboard;\n\n\n// WEBPACK FOOTER //\n// ./src/geokeyboard.js","class Select {\n    constructor(parent, selectors=null, opts={}) {\n        this.parent = parent;\n\n        // Assuming state is global if no selectors\n        if (selectors) {\n            this.selectors = Array.from(document.querySelectorAll(selectors));\n        } else {\n            this.selectors = this.parent.selectors;\n        }\n\n        this.opts = Object.assign({\n            select: null,\n            focusListenerForSelect: true,\n            selectListener: true,\n            autoSwitch: true,\n        }, opts);\n\n        this.select = document.querySelector(this.opts.select) || null;\n\n        this.select.value = this.selectors[0][this.parent.constructor.opts].replaceOnType.toString();\n\n        if (!selectors) {\n            this.parent._attachListeners(this);\n        }\n    }\n\n    selectChanged(e) {\n        this.selectors.forEach(s => {\n            const currentValue = e.currentTarget.value;\n            if (currentValue === 'true') {\n                this.parent._enable.call(this.parent, s);\n            } else if (currentValue === 'false') {\n                this.parent._disable.call(this.parent, s);\n            }\n        });\n\n        this.parent._focus(this.selectors);\n    }\n\n    updateSelect(e) {\n        this.select.value = e.currentTarget[this.parent.constructor.opts].replaceOnType;\n    }\n\n    listeners() {\n        if (this.select === null) {\n            return;\n        }\n\n        const schema = [];\n\n        this.selectors.forEach((s,i) => {\n            schema.push([s, [\n                ['focusListenerForSelect-'+i, 'focus', e => this.updateSelect.call(this, e)]\n            ]]);\n        });\n\n        schema.push([this.select, [\n            ['selectListener', 'change', e => this.selectChanged.call(this, e)]\n        ]]);\n\n        return schema;\n    }\n\n    enabled(selector) {\n        if (!this.selectors) {\n            return;\n        }\n\n        if (this.opts.autoSwitch && this.selectors.includes(selector.frameElement || selector)) {\n            this.selectors.forEach(s => this.parent._enable.call(this.parent, s, true));\n            this.select.value = 'true';\n        }\n    }\n\n    disabled(selector) {\n        if (!this.selectors) {\n            return;\n        }\n\n        if (this.opts.autoSwitch && this.selectors.includes(selector.frameElement || selector)) {\n            this.selectors.forEach(s => this.parent._disable.call(this.parent, s, true));\n            this.select.value = 'false';\n        }\n    }\n}\n\nmodule.exports = Select;\n\n\n// WEBPACK FOOTER //\n// ./src/geokeyboard.select.js","class Checkbox {\n    constructor(parent, selectors=null, opts={}) {\n        this.parent = parent;\n\n        // Assuming state is global if no selectors\n        if (selectors) {\n            this.selectors = Array.from(document.querySelectorAll(selectors));//selectors.split(', ');\n        } else {\n            this.selectors = this.parent.selectors;\n        }\n\n        this.opts = Object.assign({\n            checkbox: null,\n            focusListenerForCheckbox: true,\n            checkboxListener: true,\n            autoSwitch: true,\n        }, opts);\n\n        this.checkbox = document.querySelector(this.opts.checkbox) || null;\n\n        this.checkbox.checked = this.selectors[0][this.parent.constructor.opts].replaceOnType;\n\n        if (!selectors) {\n            this.parent._attachListeners(this);\n        }\n    }\n\n    checkboxChanged(e) {\n        this.selectors.forEach(s => {\n            if (e.currentTarget.checked === true) {\n                this.parent._enable.call(this.parent, s);\n            } else {\n                this.parent._disable.call(this.parent, s);\n            }\n        });\n\n        this.parent._focus(this.selectors);\n    }\n\n    updateCheckbox(e) {\n        //this.selectors.forEach(s => this.checkbox.checked = s[this.parent.constructor.opts].replaceOnType);\n        this.checkbox.checked = e.currentTarget[this.parent.constructor.opts].replaceOnType;\n    }\n\n    listeners() {\n        if (this.checkbox === null) {\n            return;\n        }\n\n        const schema = [];\n\n        this.selectors.forEach((s,i) => {\n            schema.push([s, [\n                ['focusListenerForCheckbox-'+i, 'focus', e => this.updateCheckbox.call(this, e)]\n            ]]);\n        });\n\n        schema.push([this.checkbox, [\n            ['checkboxListener', 'change', e => this.checkboxChanged.call(this, e)]\n        ]]);\n\n        return schema;\n    }\n\n    enabled(selector) {\n        if (!this.selectors) {\n            return;\n        }\n        if (this.opts.autoSwitch && this.selectors.includes(selector.frameElement || selector)) {\n            this.selectors.forEach(s => this.parent._enable.call(this.parent, s, true));\n            this.checkbox.checked = true;\n        }\n    }\n\n    disabled(selector) {\n        if (!this.selectors) {\n            return;\n        }\n\n        if (this.opts.autoSwitch && this.selectors.includes(selector.frameElement || selector)) {\n            this.selectors.forEach(s => this.parent._disable.call(this.parent, s, true));\n            this.checkbox.checked = false;\n        }\n    }\n}\n\nmodule.exports = Checkbox;\n\n\n// WEBPACK FOOTER //\n// ./src/geokeyboard.checkbox.js","class LocalStorage {\n    constructor(parent, selectors=null, params={}) {\n        this.parent = parent;\n\n        this.params = Object.assign({\n            key: 'geokeyboard_global'\n        }, params);\n\n        this.load();\n    }\n\n    enabled() {\n        localStorage.setItem(this.params.key, true);\n    }\n\n    disabled() {\n        localStorage.setItem(this.params.key, false);\n    }\n\n    load() {\n        const state = JSON.parse(localStorage.getItem(this.params.key));\n\n        if (state === null) {\n            return;\n        }\n\n        this.parent.selectors.forEach(s => state ? this.parent._enable(s) : this.parent._disable(s));\n    }\n}\n\nmodule.exports = LocalStorage;\n\n\n// WEBPACK FOOTER //\n// ./src/geokeyboard.localstorage.js","const insertAtCaret = (element, content) => {\n    const tagName = (element.tagName || element.frameElement.tagName);\n\n    if (tagName === 'DIV' || tagName === 'IFRAME') {\n        let sel, range;\n\n        let windowContext = window, documentContext = document;\n        if (tagName === 'IFRAME') {\n            windowContext = element.window;\n            documentContext = element.document;\n        }\n\n        if (windowContext.getSelection) {\n            sel = windowContext.getSelection();\n            if (sel.getRangeAt && sel.rangeCount) {\n                range = sel.getRangeAt(0);\n                range.deleteContents();\n\n                let el = documentContext.createElement('DIV');\n                el.innerHTML = content;\n                let frag = documentContext.createDocumentFragment(), node, lastNode;\n                while ((node = el.firstChild)) {\n                    lastNode = frag.appendChild(node);\n                }\n                range.insertNode(frag);\n\n                if (lastNode) {\n                    range = range.cloneRange();\n                    range.setStartAfter(lastNode);\n                    range.collapse(true);\n                    sel.removeAllRanges();\n                    sel.addRange(range);\n                }\n            }\n        } else if (documentContext.selection && documentContext.selection.type !== 'Control') {\n            documentContext.selection.createRange().pasteHTML(content);\n        }\n    } else if (tagName === 'INPUT' || tagName === 'TEXTAREA') {\n        if (typeof element.selectionStart === 'number' && typeof element.selectionEnd === 'number') {\n            const start = element.selectionStart;\n            element.value = element.value.slice(0, start) + content + element.value.slice(element.selectionEnd);\n            element.selectionStart = element.selectionEnd = start + 1;\n            element.blur();\n            element.focus();\n        } else {\n            const range = document.selection.createRange();\n            let normal = element.value.replace(/\\r\\n/g, '\\n');\n\n            let textInputRange = element.createTextRange();\n            textInputRange.moveToBookmark(range.getBookmark());\n\n            let endRange = element.createTextRange();\n            endRange.collapse(false);\n\n            let start, end;\n            if (textInputRange.compareEndPoints('StartToEnd', endRange) > -1) {\n                start = end = charLength;\n            } else {\n                start = -textInputRange.moveStart('character', -charLength);\n                start += normal.slice(0, start).split('\\n').length - 1;\n\n                if (textInputRange.compareEndPoints('EndToEnd', endRange) > -1) {\n                    end = charLength;\n                } else {\n                    end = -textInputRange.moveEnd('character', -charLength);\n                    end += normal.slice(0, end).split('\\n').length - 1;\n                }\n            }\n\n            element.value = element.value.slice(0, start) + content + element.value.slice(end);\n            //start++;\n\n            textInputRange = element.createTextRange();\n            textInputRange.collapse(true);\n        }\n    }\n};\n\nmodule.exports = insertAtCaret;\n\n\n// WEBPACK FOOTER //\n// ./src/insert-at-caret.js"],"sourceRoot":""}